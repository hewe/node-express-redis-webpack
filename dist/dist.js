!function(e){function n(c){if(s[c])return s[c].exports;var i=s[c]={exports:{},id:c,loaded:!1};return e[c].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var s={};return n.m=e,n.c=s,n.p="",n(0)}([function(module,exports,__webpack_require__){eval("'use strict';\n\nvar _express = __webpack_require__(1);\n\nvar _express2 = _interopRequireDefault(_express);\n\nvar _morgan = __webpack_require__(8);\n\nvar _morgan2 = _interopRequireDefault(_morgan);\n\nvar _cookieParser = __webpack_require__(6);\n\nvar _cookieParser2 = _interopRequireDefault(_cookieParser);\n\nvar _bodyParser = __webpack_require__(5);\n\nvar _bodyParser2 = _interopRequireDefault(_bodyParser);\n\nvar _routes = __webpack_require__(3);\n\nvar _routes2 = _interopRequireDefault(_routes);\n\nvar _ioredis = __webpack_require__(7);\n\nvar _ioredis2 = _interopRequireDefault(_ioredis);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar myRedis = new _ioredis2.default();\n\nvar app = (0, _express2.default)();\napp.use((0, _morgan2.default)('dev'));\napp.use(_bodyParser2.default.urlencoded({ extended: false }));\napp.use(_bodyParser2.default.json());\napp.use((0, _cookieParser2.default)());\n\n_routes2.default.init(app, myRedis);\n\napp.listen(3000, function () {\n        console.log('Express app started!');\n});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBwLmpzPzdhYzkiXSwibmFtZXMiOlsibXlSZWRpcyIsImFwcCIsInVzZSIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsImpzb24iLCJpbml0IiwibGlzdGVuIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7OztBQUVBLElBQU1BLFVBQVUsdUJBQWhCOztBQUVBLElBQU1DLE1BQU0sd0JBQVo7QUFDQUEsSUFBSUMsR0FBSixDQUFRLHNCQUFPLEtBQVAsQ0FBUjtBQUNBRCxJQUFJQyxHQUFKLENBQVEscUJBQVdDLFVBQVgsQ0FBc0IsRUFBRUMsVUFBVSxLQUFaLEVBQXRCLENBQVI7QUFDQUgsSUFBSUMsR0FBSixDQUFRLHFCQUFXRyxJQUFYLEVBQVI7QUFDQUosSUFBSUMsR0FBSixDQUFRLDZCQUFSOztBQUVBLGlCQUFPSSxJQUFQLENBQVlMLEdBQVosRUFBaUJELE9BQWpCOztBQUVBQyxJQUFJTSxNQUFKLENBQVcsSUFBWCxFQUFpQixZQUFVO0FBQ25CQyxnQkFBUUMsR0FBUixDQUFZLHNCQUFaO0FBQ0gsQ0FGTCIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgbG9nZ2VyIGZyb20gJ21vcmdhbic7XG5pbXBvcnQgY29va2llUGFyc2VyIGZyb20gJ2Nvb2tpZS1wYXJzZXInO1xuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInO1xuaW1wb3J0IFJvdXRlcyBmcm9tICcuL3JvdXRlcy8nXG5pbXBvcnQgUmVkaXMgZnJvbSAnaW9yZWRpcyc7XG5cbmNvbnN0IG15UmVkaXMgPSBuZXcgUmVkaXMoKTtcblxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xuYXBwLnVzZShsb2dnZXIoJ2RldicpKTtcbmFwcC51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IGZhbHNlIH0pKTtcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xuYXBwLnVzZShjb29raWVQYXJzZXIoKSk7XG5cblJvdXRlcy5pbml0KGFwcCwgbXlSZWRpcyk7XG5cbmFwcC5saXN0ZW4oMzAwMCwgZnVuY3Rpb24oKXtcbiAgICAgICAgY29uc29sZS5sb2coJ0V4cHJlc3MgYXBwIHN0YXJ0ZWQhJyk7XG4gICAgfVxuKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9hcHAuanMiXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports){eval('module.exports = require("express");//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJleHByZXNzXCI/ZDJkMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcImV4cHJlc3NcIlxuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9')},function(module,exports){eval('"use strict";\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar Person = function Person(firstname, lastname, age) {\n    _classCallCheck(this, Person);\n\n    this.firstname = firstname;\n    this.lastname = lastname;\n    this.age = age;\n};\n\nexports.default = Person;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvUGVyc29uLmpzPzRiOWUiXSwibmFtZXMiOlsiUGVyc29uIiwiZmlyc3RuYW1lIiwibGFzdG5hbWUiLCJhZ2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0lBQXFCQSxNLEdBQ2pCLGdCQUFZQyxTQUFaLEVBQXVCQyxRQUF2QixFQUFpQ0MsR0FBakMsRUFBc0M7QUFBQTs7QUFDbEMsU0FBS0YsU0FBTCxHQUFpQkEsU0FBakI7QUFDQSxTQUFLQyxRQUFMLEdBQWdCQSxRQUFoQjtBQUNBLFNBQUtDLEdBQUwsR0FBV0EsR0FBWDtBQUNILEM7O2tCQUxnQkgsTSIsImZpbGUiOiIyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGVyc29uIHtcbiAgICBjb25zdHJ1Y3RvcihmaXJzdG5hbWUsIGxhc3RuYW1lLCBhZ2UpIHtcbiAgICAgICAgdGhpcy5maXJzdG5hbWUgPSBmaXJzdG5hbWU7XG4gICAgICAgIHRoaXMubGFzdG5hbWUgPSBsYXN0bmFtZTtcbiAgICAgICAgdGhpcy5hZ2UgPSBhZ2U7XG4gICAgfVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9tb2RlbC9QZXJzb24uanMiXSwic291cmNlUm9vdCI6IiJ9')},function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _person = __webpack_require__(4);\n\nvar _person2 = _interopRequireDefault(_person);\n\nvar _express = __webpack_require__(1);\n\nvar _express2 = _interopRequireDefault(_express);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Routes = {\n    init: function init(app, redis) {\n        app.use('/person', (0, _person2.default)(_express2.default.Router(), redis));\n    }\n};\n\nexports.default = Routes;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL2luZGV4LmpzPzBjZmYiXSwibmFtZXMiOlsiUm91dGVzIiwiaW5pdCIsImFwcCIsInJlZGlzIiwidXNlIiwiUm91dGVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7OztBQUNBOzs7Ozs7QUFFQSxJQUFNQSxTQUFTO0FBRVhDLFFBRlcsZ0JBRU5DLEdBRk0sRUFFREMsS0FGQyxFQUVNO0FBQ2JELFlBQUlFLEdBQUosQ0FBUSxTQUFSLEVBQW1CLHNCQUFPLGtCQUFRQyxNQUFSLEVBQVAsRUFBeUJGLEtBQXpCLENBQW5CO0FBQ0g7QUFKVSxDQUFmOztrQkFPZUgsTSIsImZpbGUiOiIzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHBlcnNvbiBmcm9tICcuL3BlcnNvbic7XG5pbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcblxuY29uc3QgUm91dGVzID0ge1xuXG4gICAgaW5pdChhcHAsIHJlZGlzKSB7XG4gICAgICAgIGFwcC51c2UoJy9wZXJzb24nLCBwZXJzb24oZXhwcmVzcy5Sb3V0ZXIoKSwgcmVkaXMpKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJvdXRlcztcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvcm91dGVzL2luZGV4LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function (router, redis) {\n    var getPerson = function getPerson(req, res) {\n        var key = req.query.firstname + '.' + req.query.lastname;\n        redis.get(key).then(function (result) {\n            res.send(JSON.parse(result));\n        }).catch(function (error) {\n            res.status(500).send('something broke');\n        });\n    };\n\n    var setPerson = function setPerson(req, res) {\n        var key = req.body.firstname + '.' + req.body.lastname;\n        var person = new _Person2.default(req.body.firstname, req.body.lastname, req.body.age);\n        redis.set(key, JSON.stringify(person)).then(function (result) {\n            res.send(person);\n        }).catch(function (error) {\n            res.status(500).send('something broke');\n        });\n    };\n\n    router.get('', getPerson);\n    router.post('', setPerson);\n\n    return router;\n};\n\nvar _Person = __webpack_require__(2);\n\nvar _Person2 = _interopRequireDefault(_Person);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL3BlcnNvbi5qcz9kYzQzIl0sIm5hbWVzIjpbInJvdXRlciIsInJlZGlzIiwiZ2V0UGVyc29uIiwicmVxIiwicmVzIiwia2V5IiwicXVlcnkiLCJmaXJzdG5hbWUiLCJsYXN0bmFtZSIsImdldCIsInRoZW4iLCJyZXN1bHQiLCJzZW5kIiwiSlNPTiIsInBhcnNlIiwiY2F0Y2giLCJlcnJvciIsInN0YXR1cyIsInNldFBlcnNvbiIsImJvZHkiLCJwZXJzb24iLCJhZ2UiLCJzZXQiLCJzdHJpbmdpZnkiLCJwb3N0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7a0JBQ2UsVUFBVUEsTUFBVixFQUFrQkMsS0FBbEIsRUFBeUI7QUFDcEMsUUFBTUMsWUFBWSxTQUFaQSxTQUFZLENBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFjO0FBQzVCLFlBQU1DLE1BQVNGLElBQUlHLEtBQUosQ0FBVUMsU0FBbkIsU0FBZ0NKLElBQUlHLEtBQUosQ0FBVUUsUUFBaEQ7QUFDQVAsY0FBTVEsR0FBTixDQUFVSixHQUFWLEVBQ0tLLElBREwsQ0FDVSxVQUFDQyxNQUFELEVBQVk7QUFDZFAsZ0JBQUlRLElBQUosQ0FBU0MsS0FBS0MsS0FBTCxDQUFXSCxNQUFYLENBQVQ7QUFDSCxTQUhMLEVBSUtJLEtBSkwsQ0FJVyxVQUFDQyxLQUFELEVBQVc7QUFDZFosZ0JBQUlhLE1BQUosQ0FBVyxHQUFYLEVBQWdCTCxJQUFoQixDQUFxQixpQkFBckI7QUFDSCxTQU5MO0FBT0gsS0FURDs7QUFXQSxRQUFNTSxZQUFZLFNBQVpBLFNBQVksQ0FBQ2YsR0FBRCxFQUFNQyxHQUFOLEVBQWM7QUFDNUIsWUFBTUMsTUFBU0YsSUFBSWdCLElBQUosQ0FBU1osU0FBbEIsU0FBK0JKLElBQUlnQixJQUFKLENBQVNYLFFBQTlDO0FBQ0EsWUFBTVksU0FBUyxxQkFBV2pCLElBQUlnQixJQUFKLENBQVNaLFNBQXBCLEVBQStCSixJQUFJZ0IsSUFBSixDQUFTWCxRQUF4QyxFQUFrREwsSUFBSWdCLElBQUosQ0FBU0UsR0FBM0QsQ0FBZjtBQUNBcEIsY0FBTXFCLEdBQU4sQ0FBVWpCLEdBQVYsRUFBZVEsS0FBS1UsU0FBTCxDQUFlSCxNQUFmLENBQWYsRUFDS1YsSUFETCxDQUNVLFVBQUNDLE1BQUQsRUFBWTtBQUNkUCxnQkFBSVEsSUFBSixDQUFTUSxNQUFUO0FBQ0gsU0FITCxFQUlLTCxLQUpMLENBSVcsVUFBQ0MsS0FBRCxFQUFXO0FBQ2RaLGdCQUFJYSxNQUFKLENBQVcsR0FBWCxFQUFnQkwsSUFBaEIsQ0FBcUIsaUJBQXJCO0FBQ0gsU0FOTDtBQU9ILEtBVkQ7O0FBWUFaLFdBQU9TLEdBQVAsQ0FBVyxFQUFYLEVBQWVQLFNBQWY7QUFDQUYsV0FBT3dCLElBQVAsQ0FBWSxFQUFaLEVBQWdCTixTQUFoQjs7QUFFQSxXQUFPbEIsTUFBUDtBQUNILEM7O0FBN0JEIiwiZmlsZSI6IjQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUGVyc29uIGZyb20gJy4uL21vZGVsL1BlcnNvbic7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAocm91dGVyLCByZWRpcykge1xuICAgIGNvbnN0IGdldFBlcnNvbiA9IChyZXEsIHJlcykgPT4ge1xuICAgICAgICBjb25zdCBrZXkgPSBgJHtyZXEucXVlcnkuZmlyc3RuYW1lfS4ke3JlcS5xdWVyeS5sYXN0bmFtZX1gO1xuICAgICAgICByZWRpcy5nZXQoa2V5KVxuICAgICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlcy5zZW5kKEpTT04ucGFyc2UocmVzdWx0KSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKCdzb21ldGhpbmcgYnJva2UnKTtcbiAgICAgICAgICAgIH0pXG4gICAgfTtcblxuICAgIGNvbnN0IHNldFBlcnNvbiA9IChyZXEsIHJlcykgPT4ge1xuICAgICAgICBjb25zdCBrZXkgPSBgJHtyZXEuYm9keS5maXJzdG5hbWV9LiR7cmVxLmJvZHkubGFzdG5hbWV9YDtcbiAgICAgICAgY29uc3QgcGVyc29uID0gbmV3IFBlcnNvbihyZXEuYm9keS5maXJzdG5hbWUsIHJlcS5ib2R5Lmxhc3RuYW1lLCByZXEuYm9keS5hZ2UpO1xuICAgICAgICByZWRpcy5zZXQoa2V5LCBKU09OLnN0cmluZ2lmeShwZXJzb24pKVxuICAgICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlcy5zZW5kKHBlcnNvbik7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKCdzb21ldGhpbmcgYnJva2UnKTtcbiAgICAgICAgICAgIH0pXG4gICAgfTtcblxuICAgIHJvdXRlci5nZXQoJycsIGdldFBlcnNvbik7XG4gICAgcm91dGVyLnBvc3QoJycsIHNldFBlcnNvbik7XG5cbiAgICByZXR1cm4gcm91dGVyO1xufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9yb3V0ZXMvcGVyc29uLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports){eval('module.exports = require("body-parser");//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJib2R5LXBhcnNlclwiPzQ2NTciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiNS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJvZHktcGFyc2VyXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwiYm9keS1wYXJzZXJcIlxuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9')},function(module,exports){eval('module.exports = require("cookie-parser");//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJjb29raWUtcGFyc2VyXCI/OWQwZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiI2LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY29va2llLXBhcnNlclwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcImNvb2tpZS1wYXJzZXJcIlxuLy8gbW9kdWxlIGlkID0gNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9')},function(module,exports){eval('module.exports = require("ioredis");//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJpb3JlZGlzXCI/ZWNhYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiI3LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiaW9yZWRpc1wiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcImlvcmVkaXNcIlxuLy8gbW9kdWxlIGlkID0gN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9')},function(module,exports){eval('module.exports = require("morgan");//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtb3JnYW5cIj8xOWVmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjguanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJtb3JnYW5cIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJtb3JnYW5cIlxuLy8gbW9kdWxlIGlkID0gOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9')}]);